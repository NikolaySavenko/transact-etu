Проект для демонстрации методов оптимизации высоконагруженных приложений.  
В качестве высоконагруженного приложения будет система банковских транзакций.  
Первая часть проекта состоит из простого консольного приложения, которое будет генерировать тестовые транзакции,
которыми мы в последствии будем нагружать наше приложение.

цель проекта не сделать blazingly fast single instance, а добиться приближения к линейному росту производительности при горизонтальном масштабировании
можно было сделать проект на сях, который в single instance прорывал 300к rps, но при масшабировании до 10 инстансов деградировал или показывал ущербный рост.

В какой-то момент мы начинаем выпадать с FATAL:  sorry, too many clients already  
решаем с pgbouncer и меняем авторизацию бд на md5

Начинаем скейлить и понимаем, что не можем юзать несколько инстансов на одном порту, ставим nginx как балансировщик  

Первый тест: с 2 репликами
![alt text](image.png)

Второй: с 6 репликами
![alt text](image-1.png)

Третий: Снимаем лимиты бд  
как видим упора в бд еще нет
![alt text](image-2.png)

Добавил assertions для баланса
![alt text](image-3.png)

Яндекс Postgres 1 replica
![alt text](image-4.png)

3 replica
![alt text](image-5.png)

10 replica
![alt text](image-6.png)

10 replica async methods
![alt text](image-7.png)

увеличил потоки и затык пробили
дело было в том, что уперлись в потолок
![alt text](image-8.png)

даже в ажуре получаем too many clients
![alt text](image-9.png)

к вопросу почему такие короткие тесты и мало распараллелены
![alt text](image-10.png)

"${__jexl3(${amountToSend} / ${balancePartToTransfer})}"

Новая проблема
![alt text](image-11.png)